{"version":3,"sources":["js/autoSetCanvasSize.js","js/drawCircle.js","js/drawLine.js","js/handleUserClick.js","js/listenToUser.js","index.js"],"names":["autoSetCanvasSize","canvas","document","getElementById","setCanvasSize","width","documentElement","clientWidth","height","clientHeight","window","onresize","drawCircle","context","x","y","radius","beginPath","arc","Math","PI","fill","closePath","drawLine","x1","y1","x2","y2","lineWidth","moveTo","lineTo","stroke","getContext","eraserEnabled","pen","eraser","clear","download","red","green","blue","thin","thick","onclick","classList","add","remove","clearRect","url","toDataURL","a","createElement","href","target","click","fillStyle","strokeStyle","console","log","listenToUser","undefined","body","ontouchstart","using","lastPoint","newPoint","aaa","touches","clientX","clientY","ontouchmove","ontouchend","mobilePhone","onmousedown","onmousemove","onmouseup","computer"],"mappings":"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","file":"static/js/main.e48c09b4.chunk.js","sourcesContent":["// 解决手机端乱跳乱滚bug\r\n// document.body.ontouchstart = function(eee){\r\n//     eee.preventDefault();\r\n// }\r\nfunction autoSetCanvasSize(){\r\n    let canvas = document.getElementById('canvas');\r\n    setCanvasSize();\r\n    window.onresize = ()=>{\r\n        setCanvasSize();\r\n    }\r\n    // 获取当前视口宽高，设置画布尺寸\r\n    function setCanvasSize(){\r\n        canvas.width = document.documentElement.clientWidth;\r\n        canvas.height = document.documentElement.clientHeight;\r\n    }\r\n}\r\n\r\nexport default autoSetCanvasSize","function drawCircle(context, x,y,radius){\r\n    context.beginPath();\r\n    context.arc(x,y,radius,0,Math.PI*2);\r\n    context.fill();\r\n    context.closePath();\r\n}\r\n\r\nexport default drawCircle","function drawLine(context, x1, y1, x2, y2, lineWidth){\r\n    context.lineWidth = lineWidth;\r\n    context.beginPath();\r\n    context.moveTo(x1,y1);  //起点\r\n    context.lineTo(x2,y2);  //终点\r\n    context.stroke();\r\n    context.closePath();\r\n}\r\n\r\nexport default drawLine","\r\n\r\nlet canvas = document.getElementById('canvas');\r\nlet context = canvas.getContext('2d');\r\nlet lineWidth = 5;\r\nlet eraserEnabled = false;\r\n\r\nlet pen = document.getElementById('pen')\r\nlet eraser = document.getElementById('eraser')\r\nlet clear = document.getElementById('clear')\r\nlet download = document.getElementById('download')\r\nlet red = document.getElementById('red')\r\nlet green = document.getElementById('green')\r\nlet blue = document.getElementById('blue')\r\nlet thin = document.getElementById('thin')\r\nlet thick = document.getElementById('thick')\r\n\r\npen.onclick = function(){\r\n    pen.classList.add('active');\r\n    eraser.classList.remove('active');\r\n    return eraserEnabled = false;\r\n}\r\neraser.onclick = function(){\r\n    eraser.classList.add('active');\r\n    pen.classList.remove('active');\r\n    return eraserEnabled = true;\r\n}\r\nclear.onclick = function(){\r\n    context.clearRect(0, 0, canvas.width, canvas.height);\r\n}\r\ndownload.onclick = function(){\r\n    let url = canvas.toDataURL('image/png');\r\n    let a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = '我的创作';\r\n    a.target = '_blank';\r\n    a.click();\r\n}\r\nred.onclick = function(){\r\n    context.fillStyle = 'red';\r\n    context.strokeStyle = 'red';\r\n    red.classList.add('active');\r\n    green.classList.remove('active');\r\n    blue.classList.remove('active');\r\n}\r\ngreen.onclick = function(){\r\n    context.fillStyle = 'green';\r\n    context.strokeStyle = 'green';\r\n    red.classList.remove('active');\r\n    green.classList.add('active');\r\n    blue.classList.remove('active');\r\n}\r\nblue.onclick = function(){\r\n    context.fillStyle = 'blue';\r\n    context.strokeStyle = 'blue';\r\n    red.classList.remove('active');\r\n    green.classList.remove('active');\r\n    blue.classList.add('active');\r\n}\r\nthin.onclick = function(){\r\n    console.log('线宽，窄的')\r\n    return lineWidth = 5;\r\n}\r\nthick.onclick = function(){\r\n    console.log('线宽，宽度')\r\n    return lineWidth = 10;\r\n}\r\n\r\nexport {canvas, context, lineWidth, eraserEnabled}\r\n\r\n// eraser.onclick = function(){\r\n//     eraserEnabled = true;\r\n//     action.className = 'action x';\r\n// }\r\n// brush.onclick = function(){\r\n//     eraserEnabled = false;\r\n//     action.className = 'action';\r\n// }","import drawCircle from './drawCircle'\r\nimport drawLine from './drawLine'\r\nimport {canvas, context, lineWidth, eraserEnabled} from './handleUserClick'\r\n\r\nfunction listenToUser(){\r\n    document.body.ontouchstart!==undefined ? mobilePhone() : computer()     // 判断是否是触屏设备\r\n}\r\n\r\nfunction computer(){\r\n    let using = false;\r\n    let lastPoint = {x:undefined, y:undefined};\r\n    let newPoint = {}\r\n    canvas.onmousedown = function(aaa){\r\n        let x = aaa.clientX;\r\n        let y = aaa.clientY;\r\n        using = true;\r\n        if(eraserEnabled){\r\n            context.clearRect(x-5,y-5,10,10);\r\n        }else{\r\n            lastPoint = {'x':x, 'y':y};\r\n            drawCircle(context, x,y,1);\r\n        }\r\n    }\r\n    canvas.onmousemove = function(aaa){\r\n        let x = aaa.clientX;\r\n        let y = aaa.clientY;\r\n        if(using){\r\n            if(eraserEnabled){  \r\n                context.clearRect(x-5,y-5,10,10);\r\n            }else{\r\n                newPoint = {'x':x,'y':y};\r\n                drawLine(context, lastPoint['x'],lastPoint['y'],newPoint['x'],newPoint['y'], lineWidth);\r\n                lastPoint = newPoint;\r\n            }\r\n        }\r\n    }\r\n    canvas.onmouseup = function(aaa){\r\n        using = false;\r\n    }\r\n}\r\n\r\nfunction mobilePhone(){\r\n    let using = false;\r\n    let lastPoint = {x:undefined, y:undefined};\r\n    let newPoint = {}\r\n\r\n    canvas.ontouchstart = function(aaa){\r\n        let x = aaa.touches[0].clientX;\r\n        let y = aaa.touches[0].clientY;\r\n        using = true;\r\n        if(eraserEnabled){\r\n            context.clearRect(x-5,y-5,10,10);\r\n        }else{\r\n            lastPoint = {'x':x, 'y':y};\r\n        }\r\n    }\r\n    canvas.ontouchmove = function(aaa){\r\n        let x = aaa.touches[0].clientX;\r\n        let y = aaa.touches[0].clientY;\r\n        if(using){\r\n            if(eraserEnabled){  \r\n                context.clearRect(x-5,y-5,10,10);\r\n            }else{\r\n                newPoint = {'x':x,'y':y};\r\n                drawLine(context, lastPoint['x'],lastPoint['y'],newPoint['x'],newPoint['y'], lineWidth);\r\n                lastPoint = newPoint;\r\n            }\r\n        }\r\n    }\r\n    canvas.ontouchend = function(){\r\n        using = false;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default listenToUser","\r\nimport autoSetCanvasSize from './js/autoSetCanvasSize'\r\nimport listenToUser from './js/listenToUser'\r\nimport './css/index.css'\r\n\r\nautoSetCanvasSize();\r\nlistenToUser();\r\n\r\n"],"sourceRoot":""}